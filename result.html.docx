<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>ä½ çš„è‡ªå¾‹ç±»å‹ Â· LUMINARY</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', system-ui, -apple-system, sans-serif;
            background: linear-gradient(145deg, #f5f7fa 0%, #e9ecf0 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .card {
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(8px);
            border-radius: 32px;
            box-shadow: 0 20px 40px rgba(0,20,30,0.2), 0 4px 12px rgba(0,0,0,0.05);
            max-width: 600px;
            width: 100%;
            padding: 32px 24px;
            border: 1px solid rgba(255,255,255,0.5);
            transition: all 0.3s;
        }
        .header {
            text-align: center;
            margin-bottom: 24px;
        }
        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 1px;
        }
        .header p {
            color: #2c3e50;
            opacity: 0.8;
            font-size: 1rem;
            margin-top: 8px;
        }
        .type-badge {
            display: inline-block;
            background: #2a5298;
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
            padding: 6px 16px;
            border-radius: 40px;
            margin-bottom: 16px;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 8px rgba(42,82,152,0.3);
        }
        .type-title {
            font-size: 2.5rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 16px;
            color: #0a1a2f;
        }
        .type-desc {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #1e2a3a;
            margin-bottom: 28px;
            background: rgba(255,255,255,0.7);
            padding: 20px;
            border-radius: 24px;
            border-left: 5px solid #2a5298;
        }
        .advice {
            background: #f0f4fb;
            border-radius: 24px;
            padding: 20px;
            margin-bottom: 24px;
            border: 1px solid rgba(42,82,152,0.2);
        }
        .advice h3 {
            font-size: 1.2rem;
            color: #1e3c72;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .advice p {
            color: #2c3e50;
            font-size: 1rem;
            line-height: 1.5;
        }
        .share-hint {
            text-align: center;
            font-size: 0.9rem;
            color: #64748b;
            border-top: 1px dashed #cbd5e1;
            padding-top: 20px;
            margin-top: 16px;
        }
        .share-hint button {
            background: none;
            border: 1px solid #2a5298;
            color: #2a5298;
            padding: 8px 24px;
            border-radius: 40px;
            font-size: 1rem;
            font-weight: 500;
            margin-top: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .share-hint button:hover {
            background: #2a5298;
            color: white;
        }
        .footer {
            text-align: center;
            color: #94a3b8;
            font-size: 0.8rem;
            margin-top: 16px;
        }
        .loading {
            text-align: center;
            color: #2a5298;
            font-size: 1.2rem;
            padding: 40px;
        }
        .error {
            color: #b91c1c;
            background: #fee2e2;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="card" id="resultCard">
        <div class="loading">âœ¨ æ­£åœ¨è§£è¯»ä½ çš„è‡ªå¾‹å¯†ç ...</div>
    </div>

    <script>
        (function() {
            // ---------- 1. ä»URLè·å–å‚æ•°ï¼ˆä½¿ç”¨è‡ªå®šä¹‰å‚æ•°åï¼‰ ----------
            function getParam(name) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(name);
            }

            // è·å–å„ä¸ªå˜é‡çš„å€¼ï¼ˆå‚æ•°åä¸è·³è½¬é“¾æ¥ä¸­è®¾ç½®çš„ä¸€è‡´ï¼‰
            const AN1 = getParam('AN1') ? Number(getParam('AN1')) : null;   // ç„¦è™‘
            const BI1 = getParam('BI1') ? Number(getParam('BI1')) : null;   // ä»˜è´¹æ„æ„¿
            const SC1 = getParam('SC1') ? Number(getParam('SC1')) : null;   // æ§åˆ¶æ„Ÿç¼ºå¤±
            const CM1 = getParam('CM1') ? Number(getParam('CM1')) : null;   // å¿ƒç†ä»£å¿
            const SE1 = getParam('SE1') ? Number(getParam('SE1')) : null;   // è‡ªæˆ‘æ•ˆèƒ½

            // è°ƒè¯•ä¿¡æ¯ï¼ˆæŒ‰F12å¯çœ‹ï¼‰
            console.log('AN1=', AN1, 'BI1=', BI1, 'SC1=', SC1, 'CM1=', CM1, 'SE1=', SE1);

            // ---------- 2. åˆ¤æ–­è‡ªå¾‹ç±»å‹ ----------
            function getType() {
                // è§„åˆ™1ï¼šé«˜ç„¦è™‘ (AN1 â‰¥ 4) ä¸” é«˜ä»˜è´¹æ„æ„¿ (BI1 â‰¥ 4)
                if (AN1 !== null && BI1 !== null && AN1 >= 4 && BI1 >= 4) {
                    return 'ritual';
                }
                // è§„åˆ™2ï¼šä½æ§åˆ¶æ„Ÿ (SC1 â‰¥ 4) ä¸” é«˜ä»£å¿ (CM1 â‰¥ 4)
                if (SC1 !== null && CM1 !== null && SC1 >= 4 && CM1 >= 4) {
                    return 'debt';
                }
                // è§„åˆ™3ï¼šé«˜æ•ˆèƒ½ (SE1 â‰¥ 4) ä¸” ä½ä»˜è´¹æ„æ„¿ (BI1 !== null && BI1 <= 2)
                if (SE1 !== null && BI1 !== null && SE1 >= 4 && BI1 <= 2) {
                    return 'inner';
                }
                // é»˜è®¤
                return 'default';
            }

            // ---------- 3. æ ¹æ®ç±»å‹æ¸²æŸ“å†…å®¹ ----------
            function render(type) {
                const container = document.getElementById('resultCard');
                let title, desc, advice, badgeColor, badgeText;

                switch (type) {
                    case 'ritual':
                        badgeText = 'ä»ªå¼é©±åŠ¨å‹';
                        title = 'ğŸ¯ ä»ªå¼é©±åŠ¨å‹è‡ªå¾‹è€…';
                        desc = 'ä½ éœ€è¦ä¸€ä¸ªã€Œå¼€å§‹ã€çš„ä»ªå¼â€”â€”ä¹Ÿè®¸æ˜¯æ•´ç†ä¹¦æ¡Œï¼Œä¹Ÿè®¸æ˜¯æ‰“å¡ï¼Œä¹Ÿè®¸æ˜¯ä¸ºå­¦ä¹ èŠ±ç‚¹é’±ã€‚ä»ªå¼æ„Ÿå¯¹ä½ æ¥è¯´ä¸æ˜¯å½¢å¼ï¼Œè€Œæ˜¯è¿›å…¥çŠ¶æ€çš„å¼€å…³ã€‚ä½ ä¹°çš„ä¸æ˜¯æœåŠ¡ï¼Œæ˜¯é‚£ä¸ªã€Œæˆ‘è¦å¼€å§‹äº†ã€çš„ä¿¡å·ã€‚';
                        advice = 'æ¥çº³è‡ªå·±çš„ä»ªå¼éœ€æ±‚ï¼Œä½†åˆ«è®©ä»ªå¼ä»£æ›¿çœŸæ­£çš„è¡ŒåŠ¨ã€‚è®¾å®šä¸€ä¸ª5åˆ†é’Ÿå€’è®¡æ—¶ï¼Œä»ªå¼ç»“æŸç«‹åˆ»å¼€å§‹å­¦ä¹ ã€‚';
                        badgeColor = '#8B5CF6';
                        break;
                    case 'debt':
                        badgeText = 'å‹åŠ›è´Ÿå€ºå‹';
                        title = 'ğŸ˜¥ å‹åŠ›è´Ÿå€ºå‹è‡ªå¾‹è€…';
                        desc = 'ä½ å¸¸å¸¸å› ä¸ºæ‹–å»¶è€Œè‡ªè´£ï¼Œä»˜è´¹åƒæ˜¯ç»™ç„¦è™‘ã€Œè¿˜å€ºã€â€”â€”èŠ±é’±ä¹°ä¸ªå¿ƒå®‰ï¼Œä¹°ä¸ªã€Œè‡³å°‘æˆ‘åœ¨åŠªåŠ›ã€çš„è¯æ˜ã€‚ä½†é—®é¢˜æ˜¯ï¼Œä¹°äº†ä¸ç­‰äºåšäº†ï¼Œåšäº†ä¸ç­‰äºåšåˆ°ã€‚';
                        advice = 'æŠŠã€Œä¸ºç„¦è™‘ä»˜è´¹ã€å˜æˆã€Œä¸ºç›®æ ‡ä»˜è´¹ã€ã€‚ä»˜è´¹å‰é—®è‡ªå·±ï¼šè¿™ç¬”é’±ä¹°çš„æ˜¯å®‰æ…°ï¼Œè¿˜æ˜¯å…·ä½“çš„å­¦ä¹ äº§å‡ºï¼Ÿ';
                        badgeColor = '#E11D48';
                        break;
                    case 'inner':
                        badgeText = 'å†…ç”Ÿå‹';
                        title = 'ğŸ’ª å†…ç”Ÿå‹è‡ªå¾‹è€…';
                        desc = 'ä½ å¯¹è‡ªå·±çš„æŒæ§åŠ›æœ‰ä¿¡å¿ƒï¼Œå³ä½¿å¶å°”æ‹–å»¶ï¼Œä¹Ÿç›¸ä¿¡èƒ½è°ƒæ•´å›æ¥ã€‚ä»˜è´¹è‡ªå¾‹æœåŠ¡å¯¹ä½ æ¥è¯´æ›´åƒæ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œè€Œä¸æ˜¯é›ªä¸­æ•‘æ€¥ã€‚';
                        advice = 'ä½ æ˜¯ä»˜è´¹è‡ªå¾‹å¸‚åœºçš„ã€Œç†æ€§æ¶ˆè´¹è€…ã€ã€‚å¦‚æœé€‰æ‹©ä»˜è´¹ï¼Œè¯·å…³æ³¨é‚£äº›èƒ½çœŸæ­£æå‡æ•ˆç‡çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯æƒ…ç»ªå®‰æ…°ã€‚';
                        badgeColor = '#059669';
                        break;
                    default:
                        badgeText = 'ç»¼åˆå‹';
                        title = 'ğŸ§˜ ç»¼åˆå‹è‡ªå¾‹è€…';
                        desc = 'ä½ çš„è‡ªå¾‹é£æ ¼å¤šå…ƒè€Œå¹³è¡¡ï¼Œå¯èƒ½åŒæ—¶å—åˆ°å¤šç§å› ç´ å½±å“ã€‚ä½ æ—¢æœ‰å†…åœ¨çš„åšæŒï¼Œä¹Ÿä¼šå€ŸåŠ©å¤–éƒ¨ç¯å¢ƒã€‚';
                        advice = 'ä¿æŒè¿™ç§çµæ´»çš„æ€åº¦ï¼åœ¨ä¸åŒæƒ…å¢ƒä¸‹é€‰æ‹©æœ€é€‚åˆè‡ªå·±çš„æ–¹å¼ï¼Œå°±æ˜¯æœ€å¥½çš„è‡ªå¾‹ã€‚';
                        badgeColor = '#4B5563';
                        break;
                }

                const html = `
                    <div class="header">
                        <h1>LUMINARY</h1>
                        <p>ä½ çš„ä¸“å±è‡ªå¾‹ç”»åƒ</p>
                    </div>
                    <div class="type-badge" style="background: ${badgeColor};">${badgeText}</div>
                    <div class="type-title">${title}</div>
                    <div class="type-desc">${desc}</div>
                    <div class="advice">
                        <h3>ğŸ“Œ ç»™ä½ çš„å»ºè®®</h3>
                        <p>${advice}</p>
                    </div>
                    <div class="share-hint">
                        âœ¨ é•¿æŒ‰æˆªå›¾ï¼Œåˆ†äº«ç»™æœ‹å‹çœ‹çœ‹ä½ çš„è‡ªå¾‹ç±»å‹ï½
                        <br>
                        <button onclick="screenshot()">ğŸ“¸ æˆªå›¾ä¿å­˜</button>
                    </div>
                    <div class="footer">LUMINARY è°ƒç ”å›¢é˜Ÿ Â· æ­£å¤§æ¯å›½å¥–å†²åˆº</div>
                `;
                container.innerHTML = html;
            }

            // æˆªå›¾å¼•å¯¼
            window.screenshot = function() {
                alert('ğŸ“± è¯·ä½¿ç”¨æ‰‹æœºè‡ªå¸¦çš„æˆªå±åŠŸèƒ½ï¼ˆéŸ³é‡é”®+ç”µæºé”®ï¼‰ä¿å­˜è¿™å¼ å¡ç‰‡ï¼');
            };

            // ---------- 4. æ‰§è¡Œ ----------
            if (AN1 === null && BI1 === null && SC1 === null && CM1 === null && SE1 === null) {
                // å¦‚æœæ²¡æœ‰æ”¶åˆ°ä»»ä½•å‚æ•°ï¼Œæ˜¾ç¤ºé”™è¯¯æç¤º
                document.getElementById('resultCard').innerHTML = `
                    <div class="error">
                        âš ï¸ æ²¡æœ‰æ”¶åˆ°ä½ çš„ç­”æ¡ˆå‚æ•°ï¼Œè¯·ç¡®è®¤è·³è½¬é“¾æ¥ä¸­çš„å‚æ•°åæ˜¯å¦æ­£ç¡®ã€‚<br>
                        ç¤ºä¾‹ï¼š?AN1=5&BI1=4&SC1=2&CM1=3&SE1=4
                    </div>
                `;
            } else {
                const type = getType();
                render(type);
            }
        })();
    </script>
</body>
</html>